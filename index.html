<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto Ponte Elevatória - Blog Moderno</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
            --gradient: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
            --radius: 12px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8fafc;
            color: #334155;
            line-height: 1.7;
            overflow-x: hidden;
        }
        
        /* Header com efeito parallax */
        .hero {
            background: linear-gradient(rgba(44, 62, 80, 0.85), rgba(52, 152, 219, 0.85)), 
            url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%232c3e50"/><path d="M0 0L100 100M100 0L0 100" stroke="%233498db" stroke-width="1"/></svg>');
            background-size: cover;
            background-attachment: fixed;
            color: white;
            padding: 6rem 0 4rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: linear-gradient(transparent, #f8fafc);
            z-index: 1;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
        }
        
        h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            line-height: 1.2;
        }
        
        .subtitle {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.95;
            font-weight: 300;
        }
        
        .cta-button {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }
        
        /* Navegação moderna */
        nav {
            background: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            white-space: nowrap;
            padding: 1rem 0;
        }
        
        .logo i {
            margin-right: 0.5rem;
            color: var(--secondary);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            position: relative;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            padding: 1.2rem 1.5rem;
            display: block;
            transition: color 0.3s;
            white-space: nowrap;
        }
        
        .nav-links a:hover {
            color: var(--secondary);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: var(--secondary);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        
        .nav-links a:hover::after {
            width: 80%;
        }
        
        /* Layout principal */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        main {
            padding: 4rem 0;
        }
        
        .section {
            background-color: white;
            border-radius: var(--radius);
            padding: 3rem;
            margin-bottom: 3rem;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: var(--primary);
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--light);
            font-size: 2.2rem;
            position: relative;
        }
        
        h2::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 80px;
            height: 3px;
            background: var(--secondary);
        }
        
        h3 {
            color: var(--secondary);
            margin: 2rem 0 1rem;
            font-size: 1.5rem;
        }
        
        p {
            margin-bottom: 1.5rem;
        }
        
        /* Cards e elementos especiais */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .card-img {
            height: 200px;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .card-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        .card-content {
            padding: 1.5rem;
        }
        
        .card h3 {
            margin-top: 0;
            color: var(--primary);
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e1f5fe 100%);
            border-left: 4px solid var(--secondary);
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 0 var(--radius) var(--radius) 0;
            position: relative;
        }
        
        .highlight-box::before {
            content: '\f0eb';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            color: var(--secondary);
            opacity: 0.2;
        }
        
        /* --- ESTILOS DE IMAGEM CORRIGIDOS --- */
        .section-image-container {
            width: 100%;
            border-radius: var(--radius);
            overflow: hidden;
            margin: 2rem 0;
            box-shadow: var(--shadow);
            border: 1px solid #e2e8f0;
            background-color: #f1f5f9;
            height: auto;
            max-height: 500px; 
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .section-image-container img {
            width: 100%;
            height: 100%;
            object-fit: contain; 
            max-height: 500px;
            display: block;
            transition: transform 0.5s ease;
        }
        
        .section-image-container.portrait {
            max-height: 700px; 
        }
        
        .section-image-container.portrait img {
            max-height: 700px;
        }

        .section-image-container:hover img {
            transform: scale(1.02);
        }
        
        /* Tabelas responsivas */
        .table-responsive {
            width: 100%;
            overflow-x: auto;
            margin: 2rem 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-radius: var(--radius);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }
        
        th, td {
            padding: 1rem 1.5rem;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        
        th {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }
        
        tr:nth-child(even) {
            background-color: #f8fafc;
        }
        
        tr:hover {
            background-color: #f1f5f9;
        }
        
        /* Bloco de código */
        .code-block {
            background: #1a1b26;
            color: #c0caf5;
            padding: 2rem;
            border-radius: var(--radius);
            overflow-x: auto;
            margin: 2rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
        }
        
        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 40px;
            background: rgba(0,0,0,0.2);
            border-radius: var(--radius) var(--radius) 0 0;
        }
        
        .code-block::after {
            content: '•••';
            position: absolute;
            top: 12px;
            left: 20px;
            color: #565f89;
            font-size: 1rem;
        }
        
        .code-comment { color: #565f89; }
        .code-keyword { color: #bb9af7; }
        .code-function { color: #7dcfff; }
        .code-variable { color: #73daca; }
        .code-number { color: #ff9e64; }
        
        /* FAQ */
        .faq-item {
            margin-bottom: 1.5rem;
            border: 1px solid #e2e8f0;
            border-radius: var(--radius);
            overflow: hidden;
        }
        
        .faq-question {
            background: #f8fafc;
            padding: 1.5rem;
            font-weight: 600;
            color: var(--primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
        }
        
        .faq-question:hover {
            background: #f1f5f9;
        }
        
        .faq-question::after {
            content: '\f078';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            transition: transform 0.3s;
        }
        
        .faq-item.active .faq-question::after {
            transform: rotate(180deg);
        }
        
        .faq-answer {
            padding: 0 1.5rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }
        
        .faq-item.active .faq-answer {
            padding: 1.5rem;
            max-height: 500px;
        }
        
        /* Melhorias */
        .improvement-list {
            list-style-type: none;
        }
        
        .improvement-list li {
            padding: 0.8rem 0;
            position: relative;
            padding-left: 2.5rem;
        }
        
        .improvement-list li::before {
            content: '\f0a4';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            left: 0;
            color: var(--secondary);
            font-size: 1.2rem;
        }
        
        /* Vídeo */
        .video-suggestion {
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #f0f9ff 0%, #e1f5fe 100%);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin: 1.5rem 0;
            transition: transform 0.3s;
        }
        
        .video-suggestion:hover {
            transform: translateX(10px);
        }
        
        .video-icon {
            font-size: 2.5rem;
            margin-right: 1.5rem;
            color: var(--accent);
        }
        
        /* Footer */
        footer {
            background: var(--primary);
            color: white;
            padding: 4rem 0 2rem;
            text-align: center;
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        .author-info {
            margin-top: 1.5rem;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            color: white;
            margin: 0 0.5rem;
            transition: all 0.3s;
        }
        
        .social-links a:hover {
            background: var(--secondary);
            transform: translateY(-3px);
        }

        /* --- CHATBOT STYLES --- */
        .chatbot-trigger {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 8px 24px rgba(52, 152, 219, 0.4);
            cursor: pointer;
            z-index: 999;
            transition: all 0.3s;
        }
        
        .chatbot-trigger:hover {
            transform: scale(1.1);
            background: var(--primary);
        }
        
        .chatbot-container {
            position: fixed;
            bottom: 8rem;
            right: 2rem;
            width: 350px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            transform: translateY(20px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            z-index: 1000;
            border: 1px solid #e2e8f0;
        }
        
        .chatbot-container.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }
        
        .chatbot-header {
            background: var(--primary);
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chatbot-header h4 {
            font-weight: 600;
            margin: 0;
            font-size: 1rem;
        }
        
        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        .chatbot-body {
            padding: 1rem;
            height: 350px;
            overflow-y: auto;
            background-color: #f8fafc;
        }
        
        .chatbot-message {
            margin-bottom: 1rem;
            max-width: 85%;
            padding: 0.8rem 1rem;
            border-radius: 12px;
            font-size: 0.9rem;
            line-height: 1.5;
            word-wrap: break-word;
        }
        
        .chatbot-message.bot {
            background: white;
            color: var(--dark);
            border-top-left-radius: 2px;
            margin-right: auto;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
        }
        
        .chatbot-message.user {
            background: var(--secondary);
            color: white;
            border-top-right-radius: 2px;
            margin-left: auto;
            box-shadow: 0 2px 5px rgba(52, 152, 219, 0.3);
        }
        
        .chatbot-input {
            display: flex;
            padding: 0.8rem;
            border-top: 1px solid #e2e8f0;
            background: white;
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid #e2e8f0;
            border-radius: 50px;
            margin-right: 0.5rem;
            outline: none;
            font-size: 0.9rem;
        }

        .chatbot-input input:focus {
            border-color: var(--secondary);
        }
        
        .chatbot-input button {
            background: var(--secondary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .chatbot-input button:hover {
            background: var(--primary);
            transform: scale(1.05);
        }
        
        /* Media Queries para Mobile */
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            h2 { font-size: 1.8rem; }
            
            .container { padding: 0 1rem; }
            .section { padding: 1.5rem; margin-bottom: 2rem; }
            .hero { padding: 4rem 0 3rem; }

            /* Menu Mobile */
            .nav-container {
                flex-direction: column;
                padding: 0;
            }
            .logo {
                width: 100%;
                justify-content: center;
                border-bottom: 1px solid #f1f5f9;
                padding: 1rem;
            }
            .nav-links {
                width: 100%;
                display: flex;
                overflow-x: auto;
                padding: 0.5rem;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
            }
            .nav-links::-webkit-scrollbar { display: none; }
            .nav-links li { flex: 0 0 auto; }
            .nav-links a { padding: 0.8rem 1rem; font-size: 0.95rem; }

            .card-grid { grid-template-columns: 1fr; }
            .video-suggestion { padding: 1rem; }
            
            /* Ajuste Chatbot Mobile */
            .chatbot-container {
                width: 90%;
                right: 5%;
                bottom: 6rem;
                max-height: 60vh;
            }
            .chatbot-trigger {
                bottom: 1.5rem;
                right: 1.5rem;
            }
        }
        
        /* Animações */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in { animation: fadeInUp 0.6s ease forwards; }
    </style>
</head>
<body>
    <header class="hero">
        <div class="hero-content">
            <h1>Projeto de Ponte Elevatória com Arduino</h1>
            <p class="subtitle">Uma demonstração prática de eletromagnetismo, automação e integração entre hardware e software</p>
            <a href="#introducao" class="cta-button">Explorar Projeto</a>
        </div>
    </header>
    
    <nav>
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-draw-polygon"></i>
                <span>PonteElevatória</span>
            </div>
            <ul class="nav-links">
                <li><a href="#introducao">Introdução</a></li>
                <li><a href="#estrutura">Estrutura</a></li>
                <li><a href="#eletronica">Eletrônica</a></li>
                <li><a href="#eletromagnetismo">Eletromagnetismo</a></li>
                <li><a href="#programacao">Programação</a></li>
                <li><a href="#resultados">Resultados</a></li>
            </ul>
        </div>
    </nav>
    
    <main class="container">
        <section id="introducao" class="section fade-in">
            <h2>Introdução</h2>
            <p>Este projeto apresenta o desenvolvimento de um protótipo de ponte elevatória construído com o objetivo de demonstrar, na prática, como campos magnéticos produzidos por correntes elétricas podem gerar movimento mecânico. A estrutura foi elaborada a partir de madeira, tubos de PVC e dobradiças metálicas, enquanto o movimento é realizado por quatro motores de passo 28BYJ-48 de 5V acionados por módulos ULN2003 e controlados por um Arduino Uno.</p>
            
            <div class="highlight-box">
                <p>O protótipo foi desenvolvido no contexto das disciplinas de Modelagem e Simulação de Sistemas Elétricos e Magnéticos e de Fenômenos Elétricos, Magnéticos e Oscilatórios da Unicuritiba.</p>
            </div>
            
            <p>A ponte elevatória é um exemplo clássico de aplicação de automação que combina conhecimentos de mecânica, eletrônica e programação. Neste artigo, exploraremos todos os aspectos do projeto, desde a fundamentação teórica até a implementação prática.</p>
            
            <div class="section-image-container">
                <img src="assets/prontoo.jpg" alt="Visão geral do protótipo da ponte elevatória finalizado">
            </div>
        </section>
        
        <section id="estrutura" class="section fade-in">
            <h2>Estrutura Mecânica</h2>
            <p>A estrutura física da ponte elevatória foi projetada para ser robusta o suficiente para suportar os componentes eletrônicos e o movimento da ponte, mas também leve para não sobrecarregar os motores.</p>
            
            <div class="card-grid">
                <div class="card">
                    <div class="card-img">
                        <img src="assets/base.jpg" alt="Base da ponte em madeira">
                    </div>
                    <div class="card-content">
                        <h3>Base Principal</h3>
                        <p>Madeira com 105cm × 35cm, proporcionando estabilidade ao conjunto.</p>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-img">
                        <img src="assets/torre_apoio.jpg" alt="Torre de suporte da ponte">
                    </div>
                    <div class="card-content">
                        <h3>Torre de Apoio</h3>
                        <p>Com 21cm de altura, serve como ponto de apoio para o mecanismo de elevação.</p>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-img">
                        <img src="assets/ponte.jpg" alt="A estrutura da ponte articulada">
                    </div>
                    <div class="card-content">
                        <h3>Ponte Articulada</h3>
                        <p>Medindo 82cm × 15cm, construída com madeira e dobradiças metálicas.</p>
                    </div>
                </div>
            </div>
            
            <h3>Desafios Mecânicos</h3>
            <p>Um dos principais desafios foi garantir que a estrutura fosse suficientemente rígida para não flexionar durante o movimento, mas também leve o bastante para não exigir torque excessivo dos motores. A solução foi usar madeira de densidade média e reforçar as junções com cantoneiras metálicas.</p>
            
            <div class="section-image-container portrait">
                <img src="assets/detalhe_dobradica.jpeg" alt="Detalhe em close das dobradiças e estrutura de elevação">
            </div>
        </section>
        
        <section id="eletronica" class="section fade-in">
            <h2>Eletrônica do Sistema</h2>
            <p>O sistema eletrônico foi projetado para controlar com precisão o movimento dos motores de passo, garantindo sincronismo e confiabilidade.</p>
            
            <h3>Componentes Eletrônicos</h3>
            
            <div class="table-responsive">
                <table>
                    <thead>
                        <tr>
                            <th>Componente</th>
                            <th>Quantidade</th>
                            <th>Função</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Arduino Uno</td>
                            <td>1</td>
                            <td>Controlador principal do sistema</td>
                        </tr>
                        <tr>
                            <td>Motor de passo 28BYJ-48</td>
                            <td>4</td>
                            <td>Responsáveis pelo movimento de elevação</td>
                        </tr>
                        <tr>
                            <td>Módulo ULN2003</td>
                            <td>4</td>
                            <td>Driver para controle dos motores</td>
                        </tr>
                        <tr>
                            <td>Fonte externa 5V</td>
                            <td>1</td>
                            <td>Alimentação dos motores</td>
                        </tr>
                        <tr>
                            <td>Botões tácteis</td>
                            <td>2</td>
                            <td>Controle manual de subida e descida</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="highlight-box">
                <p><strong>Nota importante:</strong> Inicialmente foi testado um ESP32, mas problemas de compatibilidade com as bibliotecas dos motores de passo levaram à migração para o Arduino Uno, que ofereceu maior estabilidade.</p>
            </div>
            
            <div class="section-image-container">
                <div style="text-align:center; padding: 2rem; color: #aaa;">
                    <i class="fas fa-project-diagram" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                    <p>[Imagem do Diagrama Esquemático]</p>
                </div>
            </div>
        </section>
        
        <section id="eletromagnetismo" class="section fade-in">
            <h2>Princípios de Eletromagnetismo</h2>
            <p>O funcionamento dos motores de passo baseia-se fundamentalmente nos princípios do eletromagnetismo, descobertos no século XIX e que revolucionaram a engenharia elétrica.</p>
            
            <h3>Campo Magnético × Corrente Elétrica</h3>
            <p>Quando uma corrente elétrica percorre um condutor, gera ao seu redor um campo magnético. A intensidade desse campo é proporcional à corrente e sua direção pode ser determinada pela regra da mão direita.</p>
            
            <div class="card-grid">
                <div class="card">
                    <div class="card-img">
                        <img src="assets/energia_eletrica.jfif" alt="Representação da energia elétrica">
                    </div>
                    <div class="card-content">
                        <h3>Energia Elétrica</h3>
                        <p>Fornecida às bobinas do motor para gerar campos magnéticos.</p>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-microchip"></i>
                    </div>
                    <div class="card-content">
                        <h3>Controle Lógico</h3>
                        <p>O Arduino sequencia os pulsos elétricos, ativando as bobinas na ordem exata para gerar rotação.</p>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-img">
                        <img src="assets/movimento_mecanico.jfif" alt="Engrenagens representando movimento">
                    </div>
                    <div class="card-content">
                        <h3>Movimento Mecânico</h3>
                        <p>Resultado da interação entre campos magnéticos e ímãs permanentes.</p>
                    </div>
                </div>
            </div>
            
            <h3>Conversão de Energia</h3>
            <p>O processo de conversão de energia ocorre em três etapas principais:</p>
            <ol>
                <li>Energia elétrica é fornecida às bobinas do motor</li>
                <li>As bobinas geram campos magnéticos que interagem com o rotor</li>
                <li>Esta interação produz torque, convertendo energia elétrica em movimento mecânico</li>
            </ol>
        </section>
        
        <section id="programacao" class="section fade-in">
            <h2>Lógica de Programação</h2>
            <p>O controle da ponte elevatória é implementado através de uma máquina de estados que gerencia os movimentos de subida e descida com base em temporização acumulada.</p>
            
            <h3>Máquina de Estados</h3>
            <p>O sistema opera com três estados principais:</p>
            <ul>
                <li><strong>Estado 0:</strong> Posição intermediária (repouso)</li>
                <li><strong>Estado 1:</strong> Ponte fechada (totalmente baixada)</li>
                <li><strong>Estado 2:</strong> Ponte aberta (totalmente elevada)</li>
            </ul>
            
            <h3>Código Comentado</h3>
            <div class="code-block">
                <pre style="margin: 0; white-space: pre; overflow-x: auto;"><code class="language-cpp"><span class="code-comment">// --- Configuração dos Motores (ULN2003) ---</span>
<span class="code-comment">// Motor 1</span>
<span class="code-keyword">const int</span> motor1Pins[4] = {11, 10, 9, 8};

<span class="code-comment">// Motor 2 - INVERTIDO para girar no mesmo sentido</span>
<span class="code-keyword">const int</span> motor2Pins[4] = {7, 6, 5, 4};

<span class="code-comment">// Motor 3 (Pinos Analógicos usados como Digitais)</span>
<span class="code-keyword">const int</span> motor3Pins[4] = {A2, A3, A4, A5};

<span class="code-comment">// Motor 4</span>
<span class="code-keyword">const int</span> motor4Pins[4] = {12, 13, 2, 3};

<span class="code-comment">// --- Botões de Controle ---</span>
<span class="code-keyword">const int</span> btnHorario = A0;  <span class="code-comment">// Botão para ABRIR ponte</span>
<span class="code-keyword">const int</span> btnAnti    = A1;  <span class="code-comment">// Botão para FECHAR ponte</span>

<span class="code-comment">// --- Configurações de Tempo e Velocidade ---</span>
<span class="code-keyword">const unsigned long</span> tempoTotalMs = 13000; <span class="code-comment">// 13 segundos para abrir total</span>
<span class="code-keyword">const unsigned long</span> intervaloPassoMs = 3; <span class="code-comment">// Velocidade (maior = mais lento/forte)</span>

<span class="code-comment">// Sequência de passos (FULL-STEP para maior torque)</span>
<span class="code-keyword">int</span> stepSequence[4][4] = {
  {1, 1, 0, 0},
  {0, 1, 1, 0},
  {0, 0, 1, 1},
  {1, 0, 0, 1}
};

<span class="code-keyword">int</span> currentStepIndex = 0;

<span class="code-comment">// --- Variáveis de Estado ---</span>
<span class="code-keyword">bool</span> emMovimento = <span class="code-keyword">false</span>;
<span class="code-keyword">int</span> direcaoAtual = 0; <span class="code-comment">// 1 = abrir, -1 = fechar</span>
<span class="code-keyword">unsigned long</span> ultimoPassoTime = 0;
<span class="code-keyword">unsigned long</span> pontePosicaoMs = 0;      <span class="code-comment">// Posição atual em tempo (0 a 13000)</span>
<span class="code-keyword">unsigned long</span> ultimoUpdatePosicao = 0; <span class="code-comment">// Controle de tempo acumulado</span>

<span class="code-comment">// Estado para detecção de botões (Debounce simplificado)</span>
<span class="code-keyword">bool</span> lastBtnHorario = <span class="code-keyword">HIGH</span>;
<span class="code-keyword">bool</span> lastBtnAnti    = <span class="code-keyword">HIGH</span>;

<span class="code-function">void setup</span>() {
  <span class="code-comment">// Configura pinos dos 4 motores como Saída</span>
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i = 0; i < 4; i++) {
    <span class="code-function">pinMode</span>(motor1Pins[i], <span class="code-keyword">OUTPUT</span>);
    <span class="code-function">pinMode</span>(motor2Pins[i], <span class="code-keyword">OUTPUT</span>);
    <span class="code-function">pinMode</span>(motor3Pins[i], <span class="code-keyword">OUTPUT</span>);
    <span class="code-function">pinMode</span>(motor4Pins[i], <span class="code-keyword">OUTPUT</span>);
  }

  <span class="code-comment">// Configura botões com resistor Pull-Up interno</span>
  <span class="code-function">pinMode</span>(btnHorario, <span class="code-keyword">INPUT_PULLUP</span>);
  <span class="code-function">pinMode</span>(btnAnti, <span class="code-keyword">INPUT_PULLUP</span>);
}

<span class="code-function">void loop</span>() {
  <span class="code-comment">// Leitura dos botões</span>
  <span class="code-keyword">bool</span> leituraHorario = <span class="code-function">digitalRead</span>(btnHorario);
  <span class="code-keyword">bool</span> leituraAnti    = <span class="code-function">digitalRead</span>(btnAnti);

  <span class="code-comment">// Detecta clique (transição HIGH -> LOW)</span>
  <span class="code-keyword">bool</span> apertouHorario = (lastBtnHorario == <span class="code-keyword">HIGH</span> && leituraHorario == <span class="code-keyword">LOW</span>);
  <span class="code-keyword">bool</span> apertouAnti    = (lastBtnAnti    == <span class="code-keyword">HIGH</span> && leituraAnti    == <span class="code-keyword">LOW</span>);

  <span class="code-keyword">unsigned long</span> agora = <span class="code-function">millis</span>();

  <span class="code-comment">// --- Lógica de Controle ---</span>
  
  <span class="code-comment">// PARADA DE EMERGÊNCIA: Se apertar qualquer botão movendo</span>
  <span class="code-keyword">if</span> (emMovimento && (apertouHorario || apertouAnti)) {
    emMovimento = <span class="code-keyword">false</span>;
    direcaoAtual = 0;
    <span class="code-function">desligarBobinas</span>();
  }
  <span class="code-comment">// INICIAR MOVIMENTO</span>
  <span class="code-keyword">else if</span> (!emMovimento) {
    <span class="code-comment">// Comando para ABRIR (se não estiver totalmente aberta)</span>
    <span class="code-keyword">if</span> (apertouHorario && pontePosicaoMs < tempoTotalMs) {
      emMovimento = <span class="code-keyword">true</span>;
      direcaoAtual = 1;
      ultimoPassoTime = agora;
      ultimoUpdatePosicao = agora;
    }
    <span class="code-comment">// Comando para FECHAR (se não estiver totalmente fechada)</span>
    <span class="code-keyword">else if</span> (apertouAnti && pontePosicaoMs > 0) {
      emMovimento = <span class="code-keyword">true</span>;
      direcaoAtual = -1;
      ultimoPassoTime = agora;
      ultimoUpdatePosicao = agora;
    }
    <span class="code-keyword">else</span> {
      <span class="code-function">desligarBobinas</span>(); <span class="code-comment">// Economia de energia em repouso</span>
    }
  }

  <span class="code-comment">// --- Execução do Movimento ---</span>
  <span class="code-keyword">if</span> (emMovimento) {
    <span class="code-keyword">unsigned long</span> deltaPos = agora - ultimoUpdatePosicao;
    ultimoUpdatePosicao = agora;

    <span class="code-comment">// Atualiza posição virtual (tempo)</span>
    <span class="code-keyword">if</span> (direcaoAtual == 1) { <span class="code-comment">// Abrindo</span>
      <span class="code-keyword">if</span> (pontePosicaoMs + deltaPos >= tempoTotalMs) {
        pontePosicaoMs = tempoTotalMs;
        emMovimento = <span class="code-keyword">false</span>; <span class="code-comment">// Fim de curso superior</span>
        <span class="code-function">desligarBobinas</span>();
      } <span class="code-keyword">else</span> {
        pontePosicaoMs += deltaPos;
      }
    } 
    <span class="code-keyword">else if</span> (direcaoAtual == -1) { <span class="code-comment">// Fechando</span>
      <span class="code-keyword">if</span> (deltaPos >= pontePosicaoMs) {
        pontePosicaoMs = 0;
        emMovimento = <span class="code-keyword">false</span>; <span class="code-comment">// Fim de curso inferior</span>
        <span class="code-function">desligarBobinas</span>();
      } <span class="code-keyword">else</span> {
        pontePosicaoMs -= deltaPos;
      }
    }

    <span class="code-comment">// Move os motores passo a passo</span>
    <span class="code-keyword">if</span> (emMovimento && (agora - ultimoPassoTime >= intervaloPassoMs)) {
      ultimoPassoTime = agora;
      currentStepIndex += direcaoAtual;
      
      <span class="code-comment">// Loop circular da sequência de passos (0 a 3)</span>
      <span class="code-keyword">if</span> (currentStepIndex > 3) currentStepIndex = 0;
      <span class="code-keyword">if</span> (currentStepIndex < 0) currentStepIndex = 3;

      <span class="code-function">aplicarPasso</span>(currentStepIndex);
    }
  }

  lastBtnHorario = leituraHorario;
  lastBtnAnti    = leituraAnti;
  <span class="code-function">delay</span>(5);
}

<span class="code-comment">// Função auxiliar para acionar os 4 motores sincronizados</span>
<span class="code-function">void aplicarPasso</span>(<span class="code-keyword">int</span> index) {
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i = 0; i < 4; i++) {
    <span class="code-keyword">int</span> valor = stepSequence[index][i];
    <span class="code-function">digitalWrite</span>(motor1Pins[i], valor);
    <span class="code-function">digitalWrite</span>(motor2Pins[i], valor);
    <span class="code-function">digitalWrite</span>(motor3Pins[i], valor);
    <span class="code-function">digitalWrite</span>(motor4Pins[i], valor);
  }
}

<span class="code-function">void desligarBobinas</span>() {
  <span class="code-comment">// Percorre todos os pinos de todos os motores desligando-os</span>
  <span class="code-keyword">for</span> (<span class="code-keyword">int</span> i = 0; i < 4; i++) {
    <span class="code-function">digitalWrite</span>(motor1Pins[i], <span class="code-keyword">LOW</span>);
    <span class="code-function">digitalWrite</span>(motor2Pins[i], <span class="code-keyword">LOW</span>);
    <span class="code-function">digitalWrite</span>(motor3Pins[i], <span class="code-keyword">LOW</span>);
    <span class="code-function">digitalWrite</span>(motor4Pins[i], <span class="code-keyword">LOW</span>);
  }
}</code></pre>
            </div>
        </section>
        
        <section id="resultados" class="section fade-in">
            <h2>Resultados e Conclusões</h2>
            <p>O desenvolvimento do projeto envolveu vários ciclos de teste e refinamento, com desafios interessantes que levaram a soluções criativas.</p>
            
            <h3>Problemas e Soluções</h3>
            
            <div class="table-responsive">
                <table>
                    <thead>
                        <tr>
                            <th>Problema</th>
                            <th>Solução Implementada</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Torque insuficiente com 2 motores</td>
                            <td>Duplicação para 4 motores (dois de cada lado)</td>
                        </tr>
                        <tr>
                            <td>Problemas de compatibilidade com ESP32</td>
                            <td>Migração para Arduino Uno</td>
                        </tr>
                        <tr>
                            <td>Falta de sincronismo entre motores</td>
                            <td>Implementação de controle sequencial no código</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h3>Resultados Obtidos</h3>
            <ul>
                <li>Ponte abre e fecha de forma estável e controlada</li>
                <li>Torque suficiente com 4 motores para o movimento suave</li>
                <li>Sincronismo garantido entre todos os motores</li>
                <li>Movimentação previsível através do controle por tempo acumulado</li>
            </ul>
            
            <div class="video-suggestion" style="display: flex; flex-direction: column; align-items: center; background: linear-gradient(135deg, #f0f9ff 0%, #e1f5fe 100%); padding: 2rem;">
                
                <div style="text-align: center; margin-bottom: 1.5rem;">
                    <div class="video-icon" style="margin: 0 auto 1rem; display: inline-block;">
                        <i class="fas fa-play-circle"></i>
                    </div>
                    <h3 style="color: var(--primary); margin: 0;">Veja a Ponte em Ação</h3>
                    <p style="margin: 0.5rem 0 0;">Demonstração completa da abertura e fechamento</p>
                </div>

                <div style="width: 100%; max-width: 320px; border-radius: 15px; overflow: hidden; box-shadow: 0 15px 40px rgba(0,0,0,0.2); border: 4px solid white;">
                    <iframe 
                        width="100%" 
                        height="570" 
                        src="https://www.youtube.com/embed/WfgoNqTHOzs" 
                        title="Demonstração Ponte Elevatória" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                        style="display: block;">
                    </iframe>
                </div>

            </div>
            
            <div class="highlight-box">
                <p>Este projeto não apenas cumpriu seu objetivo educacional de demonstrar a conversão de energia elétrica em movimento mecânico através de campos magnéticos, mas também proporcionou valiosos insights sobre desafios de engenharia do mundo real, como dimensionamento de componentes, gestão de energia e sincronização de sistemas.</p>
            </div>
        </section>
        
        <section id="faq" class="section fade-in">
            <h2>Perguntas Frequentes</h2>
            
            <div class="faq-item">
                <div class="faq-question">Por que usar motores de passo em vez de motores DC comuns?</div>
                <div class="faq-answer">
                    <p>Motores de passo permitem controle de posição preciso sem a necessidade de sensores de feedback. Eles se movem em "passos" definidos, o que é ideal para aplicações que exigem posicionamento exato, como uma ponte elevatória.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Qual a vantagem do ULN2003 em relação a outros drivers?</div>
                <div class="faq-answer">
                    <p>O ULN2003 é um driver de baixo custo e fácil implementação para motores de passo unipolares. Ele fornece a corrente necessária para acionar as bobinas dos motores, protegendo o Arduino de sobrecarga.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Por que o controle é baseado em tempo e não em sensores de posição?</div>
                <div class="faq-answer">
                    <p>O controle por tempo é uma solução mais simples e econômica. Para maior precisão, poderiam ser adicionados sensores de fim de curso, mas o controle temporal mostrou-se suficiente para esta aplicação.</p>
                </div>
            </div>
        </section>
        
        <section id="melhorias" class="section fade-in">
            <h2>Melhorias Futuras</h2>
            <p>Embora o projeto funcione conforme o esperado, existem várias melhorias que poderiam ser implementadas em versões futuras:</p>
            
            <ul class="improvement-list">
                <li><strong>Sensores de posição:</strong> Implementação de sensores de fim de curso para maior precisão no posicionamento.</li>
                <li><strong>Controle de velocidade variável:</strong> Adição de rampas de aceleração e desaceleração para movimentos mais suaves.</li>
                <li><strong>Interface mais amigável:</strong> Substituição dos botões por um painel de controle com display e indicadores LED.</li>
                <li><strong>Comunicação sem fio:</strong> Integração com Bluetooth ou Wi-Fi para controle remoto.</li>
                <li><strong>Motores mais potentes:</strong> Uso de motores NEMA 17 ou similares para aplicações que exijam maior torque.</li>
            </ul>
        </section>
    </main>
    
    <footer>
        <div class="footer-content">
            <h3>Projeto de Ponte Elevatória</h3>
            <p>Demonstração prática de eletromagnetismo e automação</p>
            
            <div class="social-links">
                <a href="#"><i class="fab fa-github"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
            
            <p class="author-info">Autor: Gabriel Ferreira dos Santos – Unicuritiba – 2025</p>
            <p class="author-info">Disciplinas: Modelagem e Simulação de Sistemas Elétricos e Magnéticos | Fenômenos Elétricos, Magnéticos e Oscilatórios</p>
        </div>
    </footer>

    <div id="imageModal" class="lightbox-modal">
        <span class="close-btn">&times;</span>
        <img class="lightbox-content" id="lightboxImg" alt="Visualização ampliada">
        <div id="caption"></div>
    </div>
    
    <style>
        .lightbox-modal { display: none; position: fixed; z-index: 2000; padding-top: 50px; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.9); backdrop-filter: blur(5px); }
        .lightbox-content { margin: auto; display: block; width: 90%; max-width: 900px; max-height: 85vh; object-fit: contain; border-radius: 8px; box-shadow: 0 0 20px rgba(255,255,255,0.1); animation: zoomIn 0.3s; }
        .close-btn { position: absolute; top: 15px; right: 35px; color: #f1f1f1; font-size: 40px; font-weight: bold; transition: 0.3s; cursor: pointer; z-index: 2001; }
        .close-btn:hover { color: var(--secondary); }
        #caption { margin: auto; display: block; width: 90%; max-width: 700px; text-align: center; color: #ccc; padding: 10px 0; height: 150px; font-size: 1rem; }
        @keyframes zoomIn { from {transform:scale(0)} to {transform:scale(1)} }
        .section img, .card-img img, .section-image-container img { cursor: zoom-in; transition: 0.3s; }
        .section img:hover, .card-img img:hover { opacity: 0.9; }
    </style>

    <div class="chatbot-trigger">
        <i class="fas fa-comment-dots"></i>
    </div>
    
    <div class="chatbot-container">
        <div class="chatbot-header">
            <h4>Assistente do Projeto</h4>
            <button class="chatbot-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="chatbot-body">
            </div>
        <div class="chatbot-input">
            <input type="text" placeholder="Pergunte sobre a ponte...">
            <button type="submit">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script>
        // === LIGHTBOX ===
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("lightboxImg");
        const captionText = document.getElementById("caption");
        const closeBtn = document.getElementsByClassName("close-btn")[0];

        document.querySelectorAll('.section img, .card-img img, .section-image-container img').forEach(img => {
            img.addEventListener('click', function(e){
                e.stopPropagation();
                modal.style.display = "block";
                modalImg.src = this.src; 
                captionText.innerHTML = this.alt;
                document.body.style.overflow = "hidden";
            });
        });

        function closeModal() { modal.style.display = "none"; document.body.style.overflow = "auto"; }
        closeBtn.onclick = closeModal;
        modal.onclick = (e) => { if (e.target === modal) closeModal(); };
        document.addEventListener('keydown', (e) => { if (e.key === "Escape") closeModal(); });

        // === SCROLL E NAV ===
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) window.scrollTo({ top: target.offsetTop - 100, behavior: 'smooth' });
            });
        });

        // FAQ
        document.querySelectorAll('.faq-question').forEach(q => {
            q.addEventListener('click', () => q.parentElement.classList.toggle('active'));
        });

        // ANIMATION ON SCROLL
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('fade-in'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.section').forEach(s => observer.observe(s));
        
        // PARALLAX E MENU ATIVO
        window.addEventListener('scroll', () => {
            const parallax = document.querySelector('.hero');
            if (parallax) parallax.style.transform = `translateY(${window.pageYOffset * 0.5}px)`;
            
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.nav-links a');
            let current = '';
            
            sections.forEach(sec => {
                if (window.scrollY >= (sec.offsetTop - 150)) current = sec.getAttribute('id');
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) link.classList.add('active');
            });
        });

        // === ESTILOS DINÂMICOS ===
        const style = document.createElement('style');
        style.textContent = `.nav-links a.active { color: var(--secondary) !important; } .nav-links a.active::after { width: 80% !important; }`;
        document.head.appendChild(style);

        // === CHATBOT LÓGICA (IA SIMULADA) ===
        const chatbotTrigger = document.querySelector('.chatbot-trigger');
        const chatbotContainer = document.querySelector('.chatbot-container');
        const chatbotClose = document.querySelector('.chatbot-close');
        const chatbotBody = document.querySelector('.chatbot-body');
        const chatbotInput = document.querySelector('.chatbot-input input');
        const chatbotSend = document.querySelector('.chatbot-input button');

        // Base de Conhecimento do Projeto
        const knowledgeBase = {
            "saudacao": "Olá! Sou o assistente virtual deste projeto. Posso explicar como a ponte funciona, detalhar o código, falar sobre os componentes (motores, Arduino) ou os desafios que enfrentamos. O que você quer saber?",
            
            "motor": "Utilizamos 4 motores de passo 28BYJ-48 (5V). Escolhemos este modelo pela precisão angular, já que precisamos controlar a posição exata da ponte. Cada motor tem uma redução interna que aumenta o torque, fundamental para levantar a estrutura de madeira.",
            
            "arduino": "O cérebro do projeto é um Arduino Uno. Ele gerencia a sequência de pulsos elétricos para os drivers ULN2003. Inicialmente testamos com ESP32, mas tivemos problemas com bibliotecas de passo, então migramos para o Uno pela estabilidade.",
            
            "codigo": "O código (C++) usa uma 'Máquina de Estados'. Isso significa que o sistema sabe se está 'Abrindo', 'Fechando' ou 'Parado'. Não usamos `delay()` bloqueante para movimentar; usamos `millis()` para controlar o tempo, permitindo ler os botões a qualquer momento (multitarefa).",
            
            "ponte": "A estrutura é feita de madeira e tubos de PVC. O maior desafio foi o peso: com apenas 2 motores, ela não subia. Tivemos que adaptar o projeto para usar 4 motores sincronizados via código.",
            
            "fisica": "O projeto demonstra o eletromagnetismo na prática. Ao passar corrente nas bobinas do motor, criamos campos magnéticos temporários que atraem o rotor (ímã permanente), convertendo energia elétrica em energia mecânica de rotação.",
            
            "problemas": "O principal problema foi o torque insuficiente. A ponte era muito pesada para 2 motores. Solução: Dobramos para 4 motores e usamos uma fonte externa de 5V, pois o USB do computador não aguentava a corrente.",
            
            "padrao": "Desculpe, não entendi. Tente perguntar sobre: 'motores', 'código', 'arduino', 'estrutura' ou 'como funciona'."
        };

        // Função para processar a pergunta
        function getBotResponse(input) {
            input = input.toLowerCase();
            
            if (input.includes('ola') || input.includes('oi') || input.includes('ajuda')) return knowledgeBase.saudacao;
            if (input.includes('motor') || input.includes('28byj') || input.includes('passo')) return knowledgeBase.motor;
            if (input.includes('arduino') || input.includes('uno') || input.includes('esp32') || input.includes('microcontrolador')) return knowledgeBase.arduino;
            if (input.includes('codigo') || input.includes('programacao') || input.includes('logica') || input.includes('c++')) return knowledgeBase.codigo;
            if (input.includes('ponte') || input.includes('madeira') || input.includes('estrutura')) return knowledgeBase.ponte;
            if (input.includes('fisica') || input.includes('eletromagnetismo') || input.includes('campo') || input.includes('corrente')) return knowledgeBase.fisica;
            if (input.includes('problema') || input.includes('desafio') || input.includes('erro') || input.includes('dificuldade')) return knowledgeBase.problemas;
            if (input.includes('funciona')) return "A ponte usa botões para acionar uma sequência de pulsos elétricos. Esses pulsos giram 4 motores sincronizados que puxam a estrutura através de fios de nylon.";
            
            return knowledgeBase.padrao;
        }

        // Adicionar mensagem na tela
        function addMessage(text, sender) {
            const div = document.createElement('div');
            div.classList.add('chatbot-message', sender);
            
            // Se for bot, adiciona efeito de digitação simples (delay visual)
            if(sender === 'bot') {
                const typing = document.createElement('div');
                typing.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> Digitando...';
                typing.style.fontSize = '0.8rem';
                typing.style.color = '#aaa';
                typing.id = 'typing-indicator';
                chatbotBody.appendChild(typing);
                chatbotBody.scrollTop = chatbotBody.scrollHeight;

                setTimeout(() => {
                    document.getElementById('typing-indicator').remove();
                    div.innerHTML = text;
                    chatbotBody.appendChild(div);
                    chatbotBody.scrollTop = chatbotBody.scrollHeight;
                }, 800); // Delay de 0.8s para parecer humano
            } else {
                div.innerHTML = text;
                chatbotBody.appendChild(div);
                chatbotBody.scrollTop = chatbotBody.scrollHeight;
            }
        }

        function handleChat() {
            const msg = chatbotInput.value.trim();
            if(!msg) return;
            
            addMessage(msg, 'user');
            chatbotInput.value = '';
            
            const response = getBotResponse(msg);
            addMessage(response, 'bot');
        }

        // Eventos
        chatbotTrigger.onclick = () => {
            chatbotContainer.classList.add('active');
            if(chatbotBody.children.length === 0) addMessage(knowledgeBase.saudacao, 'bot');
        };
        chatbotClose.onclick = () => chatbotContainer.classList.remove('active');
        chatbotSend.onclick = handleChat;
        chatbotInput.addEventListener('keypress', (e) => { if(e.key === 'Enter') handleChat(); });

        // Adicionar estilo do efeito "digitando" se necessário via JS, mas já fiz simples acima.
    </script>
</body>
</html>